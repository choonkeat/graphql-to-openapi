<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>03-deprecated - GraphQL Schema</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <style id="custom-overrides">
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #1e1e1e;
            height: 100vh;
            overflow: auto;
        }
        pre[class*="language-"] {
            margin: 0 !important;
            padding: 2rem !important;
            background: #1e1e1e !important;
            font-size: 0.9rem !important;
            line-height: 1.6 !important;
            min-height: 100vh;
        }
        code[class*="language-"] {
            font-family: 'Monaco', 'Menlo', 'Consolas', monospace !important;
        }
        /* Tone down string colors - make them less attention-grabbing */
        .token.string {
            color: #606060 !important;
        }
        /* Also tone down comments */
        .token.comment {
            color: #5a5a5a !important;
        }
    </style>
</head>
<body>
    <pre><code class="language-graphql" id="schema-code"></code></pre>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-graphql.min.js"></script>
    <script>
        // Set schema content
        const schemaCode = `"""
@deprecated Directive Example

This schema demonstrates how the @deprecated directive is converted to OpenAPI.
GraphQL's @deprecated directive maps directly to OpenAPI's deprecated flag,
helping API consumers understand which fields and operations to avoid.
"""

type Query {
  "Fetch all users (current version)"
  users: [User!]!

  "DEPRECATED: Use users query instead"
  user(id: ID!): User @deprecated(reason: "Use users query with filter parameter instead")

  "Fetch all posts"
  posts: [Post!]!

  "Get current API version info"
  version: String!

  "DEPRECATED: Old endpoint"
  legacySearch(query: String!): [SearchResult!]! @deprecated(reason: "Use the new search endpoint with better filtering")
}

type Mutation {
  createUser(input: CreateUserInput!): User!

  "DEPRECATED: Use createUser instead"
  registerUser(name: String!, email: String!): User! @deprecated(reason: "Use createUser with input object for better validation")
}

"""
User type with some deprecated fields demonstrating field-level deprecation
"""
type User {
  id: ID!
  name: String!

  "Current email field - use this"
  email: String!

  "DEPRECATED: Replaced by email field"
  emailAddress: String! @deprecated(reason: "Use email field instead")

  "DEPRECATED: Being removed"
  username: String @deprecated(reason: "Username is being removed in the next version")

  "Array of email addresses for users with multiple emails"
  emails: [String!]!

  posts: [Post!]!
}

type Post {
  id: ID!
  title: String!
  content: String!
  authorId: ID!

  "DEPRECATED field"
  legacyStatus: String @deprecated(reason: "Use status field from the extended PostInfo type")
}

type SearchResult {
  id: ID!
  title: String!
  snippet: String!
}

input CreateUserInput {
  name: String!
  email: String!
}`;
        document.getElementById('schema-code').textContent = schemaCode;

        // Apply syntax highlighting
        Prism.highlightAll();
    </script>
</body>
</html>
